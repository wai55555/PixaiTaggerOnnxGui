# PixAI Tagger ONNX GUI
Это приложение представляет собой графический инструмент для автоматического присвоения быстрых и точных тегов большому количеству изображений в локальной среде. Оно значительно упрощает организацию и управление наборами данных с помощью интуитивно понятных операций.

| Главный экран | Экран редактирования сетки |
| :---: | :---: |
| ![](https://raw.githubusercontent.com/wiki/wai55555/PixaiTaggerOnnxGui/Sample/main_window_01.png) | ![](https://raw.githubusercontent.com/wiki/wai55555/PixaiTaggerOnnxGui/Sample/main_window_02.png) |
| *(https://raw.githubusercontent.com/wiki/wai55555/PixaiTaggerOnnxGui/Sample/gridview_01.jpg)* | |

## Обзор (Overview)

**PixAI Tagger ONNX GUI** использует [версию ONNX](https://huggingface.co/deepghs/pixai-tagger-v0.9-onnx) модели тегирования изображений, разработанной [PixAI](https://pixai.art/), для присвоения тегов локальным изображениям.

Оригинальный PixAI Tagger поддерживает более 13 000 богатых тегов, что дает преимущество по сравнению с обычными моделями тегирования (например, около 10 000 тегов у wd-tagger). Этот инструмент был разработан для максимального использования его производительности и поддержки управления вашими изображениями.

Он включает в себя автоматическое тегирование изображений, просмотр тегов, индивидуальное редактирование и мощные функции массового редактирования (добавление/удаление определенных тегов).

## Установка и использование (Installation & Usage)

1.  Загрузите последнюю версию `PixaiTaggerOnnxGui-vX.X.X.zip` со страницы релизов.
2.  Распакуйте zip-файл в выбранное вами место.
3.  Запустите `pixai_tagger_gui.exe` внутри.

## Как использовать (How to Use)
Дважды щелкните изображение и используйте колесико или перетаскивание, чтобы перемещать его. Возможно интуитивное управление.
Двойной щелчок, колесико и перетаскивание также эффективны при отображении 3x3. Ctrl+колесико перемещает изображения вперед и назад.

1.  **Укажите папку**: Загрузите целевые группы изображений, нажав кнопку `Обзор` или перетащив папку с изображениями.
2.  **Подготовьте модель (только в первый раз)**: Если вместо кнопки `TAG` отображается `Начать загрузку`, нажмите ее, чтобы загрузить модель.
3.  **Выполните тегирование**: Нажмите кнопку `TAG`, чтобы начать процесс тегирования всех изображений в папке. Если найдены существующие файлы `.txt`, появится диалоговое окно с запросом подтверждения перезаписи.
4.  **Проверка и редактирование результатов**:
    -   Выберите изображение из левого списка, чтобы отобразить изображение в центре и его теги справа. В поле ввода тегов вы можете перемещаться по изображениям вперед и назад с помощью клавиш Ctrl+вверх/вниз.
    -   Удалите ненужные теги, нажав кнопку тега справа.
    -   Раздел `Массовые теги` внизу позволяет добавлять/удалять теги по всей папке.

## Основные функции (Features)

### 1. Интуитивно понятный и удобный пользовательский интерфейс
-   **Поддержка перетаскивания**: Папки с изображениями, отдельные файлы изображений и даже файлы `.txt`, содержащие теги, могут быть мгновенно загружены путем перетаскивания их непосредственно в окно.
-   **Легкий просмотрщик изображений**:
    -   Простое управление путем выбора изображения из списка.
    -   Дважды щелкните изображение, чтобы отобразить увеличенное окно, которое можно свободно изменять и перемещать.
    -   Быстро переключайтесь между изображениями с помощью колесика мыши или клавиатуры (клавиши со стрелками, WASD и т. д.).

### 2. Мощное автоматическое тегирование
-   **Высокоскоростной ONNX Runtime**: Использует модель ONNX, которая плавно работает даже на процессорах. Обрабатывает большие объемы изображений без задержек.
-   **Автоматическая загрузка модели**: При первом запуске одним нажатием кнопки модель PixAI Tagger и файлы тегов автоматически загружаются с Hugging Face. Не требуется утомительная ручная работа.

### 3. Гибкое и расширенное редактирование тегов
-   **Индивидуальное редактирование**:
    -   Существующие теги для изображения отображаются в виде кнопок. Ненужные теги можно удалить, просто нажав кнопку.
    -   Новые теги (допускается несколько, разделенных запятыми) можно легко добавить.
-   **Мощное массовое редактирование**:
    -   Агрегирует теги из всех файлов `.txt` в папке и отображает их в порядке частоты.
    -   **Массовое удаление определенных тегов из всех файлов** одним нажатием кнопки.
    -   Также возможно **массовое добавление указанных тегов в начало или конец всех файлов**.
-   **Просмотр сетки редактирования**:
    -   Переход к просмотру сетки с помощью кнопки `3x3`. Проверяйте и редактируйте теги, просматривая несколько изображений одновременно.

### 4. Детальная настройка
-   **Настройка генерации тегов**: Интуитивно регулируйте **пороговые значения** и **максимальное количество тегов** для категорий `general` и `character` с помощью ползунков.
-   **Автоматическое сохранение настроек**: Размер окна и все настройки автоматически сохраняются в `config.ini` при выходе из приложения. Возобновите работу в той же среде в следующий раз.
-   **Многоязычная поддержка**: Поддерживает японский и английский языки. Пользовательский интерфейс автоматически переключается в соответствии с языковыми настройками ОС.

## Лицензия (License)

Этот проект выпущен под лицензиями **LGPLv3** и **Apache License 2.0**.

## Благодарности (Acknowledgements)

- Этот инструмент использует отличную модель тегирования, обученную [PixAI](https://pixai.art/). Без публичного выпуска Pixai Tagger это приложение не могло бы появиться. Искренне благодарю.
- Используемая модель ONNX общедоступна на Hugging Face от [deepghs](https://huggingface.co/deepghs/pixai-tagger-v0.9-onnx). Спасибо.
